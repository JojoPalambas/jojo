log_file = "myhttpd.log"

# Invalid server: missing ip
[[server]]
  server_name = "invalid"
  port = "4243"
  root_dir = "tests/fake_invalid_ip/"
  gzip = true
  log = false

# Admin server
[[server]]
  server_name = "admin"
  port = "4244"
  ip = "127.0.0.1"
  root_dir = "tests/fake_admin/"
  cgi_ext = "php"
  ssl_certificate = "certs/admin.crt"
  ssl_certificate_key = "certs/admin.key"
  basic_auth = true
  basic_auth_file = "credentials.txt"
  gzip = true

# Main server
[[server]]
  # Classic configuration variables
  server_name = "website"
  port = "4243"
  ip = "127.0.0.1"
  root_dir = "tests/fake_site/"
  cgi_ext = "php,sh"
  ssl_certificate = "certs/website.crt"
  ssl_certificate_key = "certs/website.key"

  # Custom error pages
  error = [
    [ "404", "not_found.html"],
    [ "500", "server_error.html"],
  ]

  proxy_pass = [
  # Set-up reverse proxy to the admin server
    [ "/admin", "http://127.0.0.1:4244/new_admin"]
  ]
